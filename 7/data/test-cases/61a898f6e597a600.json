{"uid":"61a898f6e597a600","name":"Non-existing email is available","fullName":"tests.users.test_users.TestUsers#test_not_existing_email_availability","historyId":"2b2de8cf96564606f5728f78d27c2167","time":{"start":1762279512744,"stop":1762279512755,"duration":11},"status":"failed","statusMessage":"AssertionError: Incorrect value: \"email availability\". Expected value: True. Actual value: False.","statusTrace":"self = <test_users.TestUsers object at 0x7fad0fffb800>\nuser_client = <clients.users.users_client.UserClient object at 0x7fad0fb71ee0>\nfunction_user = UserFixture(request=CreateUserRequestSchema(name='Christopher', email='johnstondonald@example.org', password='INl2QsXp..., email='johnstondonald@example.org', password='INl2QsXpMi', avatar=HttpUrl('https://www.shepard.net/listterms.html')))\n\n    @allure.story(AllureStory.CHECK_ENTITY)\n    @allure.title(\"Non-existing email is available\")\n    @allure.severity(Severity.CRITICAL)\n    def test_not_existing_email_availability(self, user_client: UserClient, function_user: UserFixture):\n        request = EmailAvailabilityRequestSchema()\n        response = user_client.check_email_availability_api(request)\n        response_data = EmailAvailabilityResponseSchema.model_validate_json(response.text)\n    \n        assert_status_code(response.status_code, HTTPStatus.CREATED)\n>       assert_email_availability_response(response_data, True)\n\ntests/users/test_users.py:155: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ntools/assertions/users.py:144: in assert_email_availability_response\n    assert_equal(request.is_available, expected, \"email availability\")\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nactual = False, expected = True, name = 'email availability'\n\n    @allure.step(\"Check that {name} equal to {expected}\")\n    def assert_equal(actual: Any, expected: Any, name: str):\n        \"\"\"\n        Проверяет, что фактическое значение равно ожидаемому.\n    \n        :param name: Название проверяемого значения.\n        :param actual: Фактическое значение.\n        :param expected: Ожидаемое значение.\n        :raises AssertionError: Если фактическое значение не равно ожидаемому.\n        \"\"\"\n        logger.info(f'Check that \"{name}\" equals to {expected}')\n    \n>       assert actual == expected, (\n               ^^^^^^^^^^^^^^^^^^\n            f'Incorrect value: \"{name}\". '\n            f'Expected value: {expected}. '\n            f'Actual value: {actual}.'\n        )\nE       AssertionError: Incorrect value: \"email availability\". Expected value: True. Actual value: False.\n\ntools/assertions/base.py:39: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1762279501754,"stop":1762279501756,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_global_logger","time":{"start":1762279501756,"stop":1762279501763,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_to_allure","time":{"start":1762279512596,"stop":1762279512600,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"user_client","time":{"start":1762279512600,"stop":1762279512622,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"function_user","time":{"start":1762279512622,"stop":1762279512743,"duration":121},"status":"passed","steps":[{"name":"Create user","time":{"start":1762279512622,"stop":1762279512743,"duration":121},"status":"passed","steps":[],"attachments":[{"uid":"8bbff38049b7705c","name":"cURL command","source":"8bbff38049b7705c.txt","type":"text/plain","size":442}],"parameters":[{"name":"request","value":"CreateUserRequestSchema(name='Christopher', email='johnstondonald@example.org', password='INl2QsXpMi', avatar='https://www.shepard.net/listterms.html')"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Incorrect value: \"email availability\". Expected value: True. Actual value: False.","statusTrace":"self = <test_users.TestUsers object at 0x7fad0fffb800>\nuser_client = <clients.users.users_client.UserClient object at 0x7fad0fb71ee0>\nfunction_user = UserFixture(request=CreateUserRequestSchema(name='Christopher', email='johnstondonald@example.org', password='INl2QsXp..., email='johnstondonald@example.org', password='INl2QsXpMi', avatar=HttpUrl('https://www.shepard.net/listterms.html')))\n\n    @allure.story(AllureStory.CHECK_ENTITY)\n    @allure.title(\"Non-existing email is available\")\n    @allure.severity(Severity.CRITICAL)\n    def test_not_existing_email_availability(self, user_client: UserClient, function_user: UserFixture):\n        request = EmailAvailabilityRequestSchema()\n        response = user_client.check_email_availability_api(request)\n        response_data = EmailAvailabilityResponseSchema.model_validate_json(response.text)\n    \n        assert_status_code(response.status_code, HTTPStatus.CREATED)\n>       assert_email_availability_response(response_data, True)\n\ntests/users/test_users.py:155: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ntools/assertions/users.py:144: in assert_email_availability_response\n    assert_equal(request.is_available, expected, \"email availability\")\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nactual = False, expected = True, name = 'email availability'\n\n    @allure.step(\"Check that {name} equal to {expected}\")\n    def assert_equal(actual: Any, expected: Any, name: str):\n        \"\"\"\n        Проверяет, что фактическое значение равно ожидаемому.\n    \n        :param name: Название проверяемого значения.\n        :param actual: Фактическое значение.\n        :param expected: Ожидаемое значение.\n        :raises AssertionError: Если фактическое значение не равно ожидаемому.\n        \"\"\"\n        logger.info(f'Check that \"{name}\" equals to {expected}')\n    \n>       assert actual == expected, (\n               ^^^^^^^^^^^^^^^^^^\n            f'Incorrect value: \"{name}\". '\n            f'Expected value: {expected}. '\n            f'Actual value: {actual}.'\n        )\nE       AssertionError: Incorrect value: \"email availability\". Expected value: True. Actual value: False.\n\ntools/assertions/base.py:39: AssertionError","steps":[{"name":"Check email availability","time":{"start":1762279512744,"stop":1762279512754,"duration":10},"status":"passed","steps":[{"name":"Make POST request to 'api/v1/users/is-available'","time":{"start":1762279512744,"stop":1762279512753,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"18086101f107bb37","name":"cURL command","source":"18086101f107bb37.txt","type":"text/plain","size":357}],"parameters":[{"name":"url","value":"'api/v1/users/is-available'"},{"name":"json","value":"{'email': 'devinmanning@example.org'}"},{"name":"data","value":"None"},{"name":"files","value":"None"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"request","value":"EmailAvailabilityRequestSchema(email='devinmanning@example.org')"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Check that response status code equal to <HTTPStatus.CREATED: 201>","time":{"start":1762279512754,"stop":1762279512754,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"actual","value":"201"},{"name":"expected","value":"<HTTPStatus.CREATED: 201>"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Check email availability response","time":{"start":1762279512754,"stop":1762279512755,"duration":1},"status":"failed","statusMessage":"AssertionError: Incorrect value: \"email availability\". Expected value: True. Actual value: False.\n","statusTrace":"  File \"/home/runner/.local/lib/python3.12/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/api_autotests/api_autotests/tools/assertions/users.py\", line 144, in assert_email_availability_response\n    assert_equal(request.is_available, expected, \"email availability\")\n  File \"/home/runner/.local/lib/python3.12/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/api_autotests/api_autotests/tools/assertions/base.py\", line 39, in assert_equal\n    assert actual == expected, (\n           ^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"Check that 'email availability' equal to True","time":{"start":1762279512754,"stop":1762279512754,"duration":0},"status":"failed","statusMessage":"AssertionError: Incorrect value: \"email availability\". Expected value: True. Actual value: False.\n","statusTrace":"  File \"/home/runner/.local/lib/python3.12/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/api_autotests/api_autotests/tools/assertions/base.py\", line 39, in assert_equal\n    assert actual == expected, (\n           ^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[{"name":"actual","value":"False"},{"name":"expected","value":"True"},{"name":"name","value":"'email availability'"}],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"request","value":"EmailAvailabilityResponseSchema(is_available=False)"},{"name":"expected","value":"True"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":5,"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"attach_logs_to_allure::0","time":{"start":1762279512762,"stop":1762279512762,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"4377e07bcfa3ce9b","name":"logs","source":"4377e07bcfa3ce9b.txt","type":"text/plain","size":820}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"labels":[{"name":"story","value":"Check entity"},{"name":"severity","value":"critical"},{"name":"epic","value":"Users service"},{"name":"feature","value":"Users"},{"name":"tag","value":"users"},{"name":"tag","value":"regression"},{"name":"parentSuite","value":"tests.users"},{"name":"suite","value":"test_users"},{"name":"subSuite","value":"TestUsers"},{"name":"host","value":"runnervmf2e7y"},{"name":"thread","value":"2518-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.users.test_users"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"critical","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":2},"items":[{"uid":"97f413a2c3691a63","reportUrl":"https://BorisBorisa.github.io/api_autotests/6/#testresult/97f413a2c3691a63","status":"failed","statusDetails":"AssertionError: Incorrect value: \"email availability\". Expected value: True. Actual value: False.","time":{"start":1762279413875,"stop":1762279413905,"duration":30}}]},"tags":["regression","users"]},"source":"61a898f6e597a600.json","parameterValues":[]}