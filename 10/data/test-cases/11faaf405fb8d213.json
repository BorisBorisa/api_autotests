{"uid":"11faaf405fb8d213","name":"Get product by ID","fullName":"tests.products.test_products.TestProducts#test_get_product_by_id","historyId":"4f1a9d4bcc2cf63b8d94db430d9c5540","time":{"start":1762337986024,"stop":1762337986024,"duration":0},"status":"broken","statusMessage":"pydantic_core._pydantic_core.ValidationError: 9 validation errors for CreateProductResponseSchema\nid\n  Field required [type=missing, input_value={'message': ['This text i...est', 'statusCode': 400}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntitle\n  Field required [type=missing, input_value={'message': ['This text i...est', 'statusCode': 400}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\nslug\n  Field required [type=missing, input_value={'message': ['This text i...est', 'statusCode': 400}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\nprice\n  Field required [type=missing, input_value={'message': ['This text i...est', 'statusCode': 400}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ndescription\n  Field required [type=missing, input_value={'message': ['This text i...est', 'statusCode': 400}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ncategory\n  Field required [type=missing, input_value={'message': ['This text i...est', 'statusCode': 400}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\nimages\n  Field required [type=missing, input_value={'message': ['This text i...est', 'statusCode': 400}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ncreationAt\n  Field required [type=missing, input_value={'message': ['This text i...est', 'statusCode': 400}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\nupdatedAt\n  Field required [type=missing, input_value={'message': ['This text i...est', 'statusCode': 400}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing","statusTrace":"products_client = <clients.products.products_client.ProductsClient object at 0x7f843ac33710>\nfunction_category = CategoryFixture(request=CreateCategoryRequestSchema(name='Name herself', image='https://www.walker.com/wp-content/cate...25, 11, 5, 10, 19, 46, tzinfo=TzInfo(UTC)), updated_at=datetime.datetime(2025, 11, 5, 10, 19, 46, tzinfo=TzInfo(UTC))))\n\n    @pytest.fixture\n    def function_product(products_client: ProductsClient, function_category: CategoryFixture) -> ProductFixture:\n        \"\"\"\n        Фикстура для создания новой продукта.\n    \n        :param products_client: Клиент для работы с роутом /api/v1/products.\n        :param function_category: Pydantic схема CategoryFixture c данными новой категории.\n        :return: Pydantic схема ProductFixture c данными нового продукта.\n        \"\"\"\n        request = CreateProductRequestSchema(category_id=function_category.response.id)\n>       response = products_client.create_product(request)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nfixtures/products.py:29: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <clients.products.products_client.ProductsClient object at 0x7f843ac33710>\nrequest = CreateProductRequestSchema(title='Property', price=6999.19, description='Democratic fire upon low defense western seat...earch/categoryregister.jsp', 'http://adams.com/categoriespost.html', 'https://king-morales.biz/list/mainregister.htm'])\n\n    def create_product(self, request: CreateProductRequestSchema) -> CreateProductResponseSchema:\n        response = self.create_product_api(request)\n>       return CreateProductResponseSchema.model_validate_json(response.text)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       pydantic_core._pydantic_core.ValidationError: 9 validation errors for CreateProductResponseSchema\nE       id\nE         Field required [type=missing, input_value={'message': ['This text i...est', 'statusCode': 400}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.11/v/missing\nE       title\nE         Field required [type=missing, input_value={'message': ['This text i...est', 'statusCode': 400}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.11/v/missing\nE       slug\nE         Field required [type=missing, input_value={'message': ['This text i...est', 'statusCode': 400}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.11/v/missing\nE       price\nE         Field required [type=missing, input_value={'message': ['This text i...est', 'statusCode': 400}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.11/v/missing\nE       description\nE         Field required [type=missing, input_value={'message': ['This text i...est', 'statusCode': 400}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.11/v/missing\nE       category\nE         Field required [type=missing, input_value={'message': ['This text i...est', 'statusCode': 400}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.11/v/missing\nE       images\nE         Field required [type=missing, input_value={'message': ['This text i...est', 'statusCode': 400}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.11/v/missing\nE       creationAt\nE         Field required [type=missing, input_value={'message': ['This text i...est', 'statusCode': 400}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.11/v/missing\nE       updatedAt\nE         Field required [type=missing, input_value={'message': ['This text i...est', 'statusCode': 400}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.11/v/missing\n\nclients/products/products_client.py:89: ValidationError","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1762337970066,"stop":1762337970067,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_global_logger","time":{"start":1762337970067,"stop":1762337970072,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_to_allure","time":{"start":1762337986024,"stop":1762337986029,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"products_client","time":{"start":1762337986029,"stop":1762337986050,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"category_client","time":{"start":1762337986050,"stop":1762337986072,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"function_category","time":{"start":1762337986072,"stop":1762337986462,"duration":390},"status":"passed","steps":[{"name":"Create category","time":{"start":1762337986072,"stop":1762337986461,"duration":389},"status":"passed","steps":[{"name":"Make POST request to 'api/v1/categories'","time":{"start":1762337986072,"stop":1762337986461,"duration":389},"status":"passed","steps":[],"attachments":[{"uid":"6e98974d9b01acc3","name":"cURL command","source":"6e98974d9b01acc3.txt","type":"text/plain","size":403}],"parameters":[{"name":"url","value":"'api/v1/categories'"},{"name":"json","value":"{'name': 'Name herself', 'image': 'https://www.walker.com/wp-content/category/mainindex.jsp'}"},{"name":"data","value":"None"},{"name":"files","value":"None"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"request","value":"CreateCategoryRequestSchema(name='Name herself', image='https://www.walker.com/wp-content/category/mainindex.jsp')"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"function_product","time":{"start":1762337986462,"stop":1762337986916,"duration":454},"status":"broken","statusMessage":"pydantic_core._pydantic_core.ValidationError: 9 validation errors for CreateProductResponseSchema\nid\n  Field required [type=missing, input_value={'message': ['This text i...est', 'statusCode': 400}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntitle\n  Field required [type=missing, input_value={'message': ['This text i...est', 'statusCode': 400}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\nslug\n  Field required [type=missing, input_value={'message': ['This text i...est', 'statusCode': 400}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\nprice\n  Field required [type=missing, input_value={'message': ['This text i...est', 'statusCode': 400}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ndescription\n  Field required [type=missing, input_value={'message': ['This text i...est', 'statusCode': 400}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ncategory\n  Field required [type=missing, input_value={'message': ['This text i...est', 'statusCode': 400}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\nimages\n  Field required [type=missing, input_value={'message': ['This text i...est', 'statusCode': 400}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ncreationAt\n  Field required [type=missing, input_value={'message': ['This text i...est', 'statusCode': 400}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\nupdatedAt\n  Field required [type=missing, input_value={'message': ['This text i...est', 'statusCode': 400}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n","statusTrace":"  File \"/home/runner/.local/lib/python3.12/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/home/runner/.local/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/home/runner/.local/lib/python3.12/site-packages/pluggy/_callers.py\", line 53, in run_old_style_hookwrapper\n    return result.get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/.local/lib/python3.12/site-packages/pluggy/_result.py\", line 103, in get_result\n    raise exc.with_traceback(tb)\n  File \"/home/runner/.local/lib/python3.12/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/home/runner/.local/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/home/runner/.local/lib/python3.12/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"/home/runner/.local/lib/python3.12/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/.local/lib/python3.12/site-packages/_pytest/fixtures.py\", line 1196, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/.local/lib/python3.12/site-packages/_pytest/fixtures.py\", line 930, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n                     ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/api_autotests/api_autotests/fixtures/products.py\", line 29, in function_product\n    response = products_client.create_product(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/api_autotests/api_autotests/clients/products/products_client.py\", line 89, in create_product\n    return CreateProductResponseSchema.model_validate_json(response.text)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/.local/lib/python3.12/site-packages/pydantic/main.py\", line 746, in model_validate_json\n    return cls.__pydantic_validator__.validate_json(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"Create product","time":{"start":1762337986463,"stop":1762337986916,"duration":453},"status":"passed","steps":[{"name":"Make POST request to 'api/v1/products'","time":{"start":1762337986463,"stop":1762337986916,"duration":453},"status":"passed","steps":[],"attachments":[{"uid":"454e13544a9c977e","name":"cURL command","source":"454e13544a9c977e.txt","type":"text/plain","size":582}],"parameters":[{"name":"url","value":"'api/v1/products'"},{"name":"json","value":"{'title': 'Property', 'price': 6999.19, 'description': 'Democratic fire upon low defense western seat.', 'categoryId': 179, 'images': ['http://bryant.com/search/search/categoryregister.jsp', 'http://adams.com/categoriespost.html', 'https://king-morales.biz/list/mainregister.htm']}"},{"name":"data","value":"None"},{"name":"files","value":"None"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"request","value":"CreateProductRequestSchema(title='Property', price=6999.19, description='Democratic fire upon low defense western seat.', category_id=179, images=['http://bryant.com/search/search/categoryregister.jsp', 'http://adams.com/categoriespost.html', 'https://king-morales.biz/list/mainregister.htm'])"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"afterStages":[{"name":"attach_logs_to_allure::0","time":{"start":1762337986946,"stop":1762337986946,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"623d1163726796d2","name":"logs","source":"623d1163726796d2.txt","type":"text/plain","size":510}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"labels":[{"name":"story","value":"Get entity"},{"name":"severity","value":"normal"},{"name":"epic","value":"Store service"},{"name":"feature","value":"Products"},{"name":"tag","value":"products"},{"name":"tag","value":"regression"},{"name":"parentSuite","value":"tests.products"},{"name":"suite","value":"test_products"},{"name":"subSuite","value":"TestProducts"},{"name":"host","value":"runnervmf2e7y"},{"name":"thread","value":"2520-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.products.test_products"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":4,"broken":1,"skipped":0,"passed":0,"unknown":0,"total":5},"items":[{"uid":"952abc5d8134ca34","reportUrl":"https://BorisBorisa.github.io/api_autotests/9/#testresult/952abc5d8134ca34","status":"failed","statusDetails":"AssertionError: Incorrect value: \"price\". Expected value: 975.29. Actual value: 975.","time":{"start":1762282631118,"stop":1762282631146,"duration":28}},{"uid":"8ee0f6c310816190","reportUrl":"https://BorisBorisa.github.io/api_autotests/8/#testresult/8ee0f6c310816190","status":"failed","statusDetails":"AssertionError: Incorrect value: \"price\". Expected value: 1748.51. Actual value: 1748.","time":{"start":1762279650257,"stop":1762279650335,"duration":78}},{"uid":"ee7dad629f1f004f","reportUrl":"https://BorisBorisa.github.io/api_autotests/7/#testresult/ee7dad629f1f004f","status":"failed","statusDetails":"AssertionError: Incorrect value: \"price\". Expected value: 9837.4. Actual value: 9837.","time":{"start":1762279505624,"stop":1762279505636,"duration":12}},{"uid":"c109fec619b87c0","reportUrl":"https://BorisBorisa.github.io/api_autotests/6/#testresult/c109fec619b87c0","status":"failed","statusDetails":"AssertionError: Incorrect value: \"price\". Expected value: 7031.66. Actual value: 7031.","time":{"start":1762279408655,"stop":1762279408685,"duration":30}}]},"tags":["regression","products"]},"source":"11faaf405fb8d213.json","parameterValues":[]}